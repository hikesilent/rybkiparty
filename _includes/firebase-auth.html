<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>

<!-- Firebase Authentication -->
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>

<script>
  // Inicjalizacja Firebase
  firebase.initializeApp({
  apiKey: "AIzaSyDv8zijZhIP3ceuGEyGI2RA4OSnh9iXqHc",
  authDomain: "rybki-party.firebaseapp.com",
  projectId: "rybki-party",
  storageBucket: "rybki-party.firebasestorage.app",
  messagingSenderId: "985551857623",
  appId: "1:985551857623:web:5b66f04f0708c3feca0d92",
  measurementId: "G-G8KF8YWEP0"
  });

  // Obsługa stanu uwierzytelnienia
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      // Użytkownik zalogowany
      console.log('Zalogowany:', user);
      document.querySelector('.login-btn').style.display = 'none';
      document.querySelector('.logout-btn').style.display = 'block';
      document.querySelector('.admin-btn').style.display = 'block';
    } else {
      // Użytkownik wylogowany
      console.log('Wylogowany');
      document.querySelector('.login-btn').style.display = 'block';
      document.querySelector('.logout-btn').style.display = 'none';
      document.querySelector('.admin-btn').style.display = 'none';
    }
  });

  // Funkcja logowania przez GitHub
  function signInWithGitHub() {
    const provider = new firebase.auth.GithubAuthProvider();
    firebase.auth().signInWithPopup(provider)
      .then((result) => {
        // Zalogowano pomyślnie
        console.log('Zalogowano:', result.user);
      })
      .catch((error) => {
        console.error('Błąd logowania:', error);
      });
  }

  // Funkcja wylogowania
  function signOut() {
    firebase.auth().signOut()
      .then(() => {
        console.log('Wylogowano pomyślnie');
      })
      .catch((error) => {
        console.error('Błąd wylogowania:', error);
      });
  }
</script>